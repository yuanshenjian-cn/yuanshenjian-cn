---
title: 故事的首尾呼应
date: '2020-02-06'
tags:
  - xp
published: true
brief: >-
  介绍用户故事开发中的两个轻量级实践：Story Kick Off（开卡）和 Story Desk Check（验卡）。通过情景再现的方式说明这两个实践如何帮助团队在开发前达成需求共识、在开发后快速验收，通过前置反馈减少返工浪费，确保团队始终在做正确的事情。
---

如题，故事是用户故事，它是敏捷研发团队一贯采用的需求管理手段。开发人员以用户故事作为需求功能开发的单元，在开始开发用户故事前和完成用户故事开发后，一头一尾，通过两个非常轻量级的实践来形成首尾呼应，能够大大提升工作产出的价值，减少返工的风险和浪费。

本文重点聊一聊这两个轻量级团队社交实践，它们分别是 **Story kick off 和 Story Desk check，**中文通常被翻译成开卡和验卡，卡指的是用户故事卡**。**

## 剧情还原

演员表：

+ 丹娜：业务分析师（BA），女
+ 袁帅：开发人员（DEV），男
+ Q仔：测试人员（QA），女

### 首：Story Kick off

周一，新的迭代伊始，丹娜已经在卡墙上的【Ready For Dev】一列贴上了9张卡片。

袁帅走到卡墙上驻足了10秒钟，从墙上的【Ready For Dev】的甬道中摘下一张卡片，顺势瞟了一眼坐在桌子那一端的丹娜，发现她正在跟Q仔讨论中。于是自己就先打开电子卡墙上对应的故事，仔细阅读故事的描述和验收条件（AC）。

袁帅几分钟时间就阅读完了，他没有立马切换到IDE去写代码，因为按照规矩，这时候他需要约丹娜和Q仔一起勾兑一下这个故事。见她俩还在讨论中，袁帅起身去倒了杯水，路途上还在琢磨着故事里描述的内容。

袁帅倒满水杯回到座位刚坐下，丹娜就笑脸迎过来："帅哥，是不是要找我开卡？" 袁帅心想神了，竟然能猜到自己内心的活动（其实袁帅刚才在卡墙前驻足摘卡的时候，丹娜就留意到了）。袁帅笑嘻嘻的夸赞道："果然不愧是娜姐啊！"，说完便向Q仔使了个眼神。5秒钟不到的时间，三个人开始在袁帅的座位旁交头接耳。

一开始是袁帅指点江山式的边指点着屏幕口若悬河，丹娜和Q仔且听且点头，面容较为舒展。紧接着，丹娜眼神坚定地讲了几句简短的话，袁帅边听边在纸上记录着。记录完后，袁帅面带疑虑的问了几个问题，经过几个来回，袁帅得意地点着头，貌似秀了一把肌肉。正要解散时，Q仔突然如获至宝似的，比划着手势语速略快地讲了一通，只见袁帅点头称是，并追加了一些记录。

大概10秒钟的样子，袁帅就着便利贴纸上的记录做了一次总结性的陈词，说完，他们仨互相抛了个媚眼，开心的散去。袁帅按下【CMD + tab】切换到IntelliJ IDEA，但他还是没有着急写代码，而是趁热喝了一口刚倒的水（刚才的过程不到5分钟，袁帅可能只是有点渴了），喝完水他撕下一张新的便利贴，拿起笔开始边思考边比划起来。

【旁白：到此为止，袁帅、丹娜和Q仔三人完成了用户故事的 Kick off活动】

### 尾：Story Deck check

周三，下午3:12，袁帅喝了口水，如释重负般伸直了懒腰，发出号召："平板支撑了！"。他起身去拿来两个瑜伽垫，团队的小伙伴也自觉来到瑜伽垫上准备着。袁帅打开他自己开发的一个平板支撑微信小程序[1]："Start！" 

7分钟后大家回到工位上继续工作了，个个精神焕发的样子，看来每日平板支撑让大家尝到了甜头，运动能够提升工作效率，也是袁帅一直坚持的理念，走到哪里他把运动带到哪里。

还没等丹娜坐下，袁帅就喊她过来看看他开发的故事。"哟，帅哥这效率可以啊！" Q仔听到袁帅喊丹娜，自己先主动出击了，边说边向袁帅靠近。

时隔两天多的时间，这三个人又聚在一起开始对袁帅周一认领的故事卡指点江山了。只见袁帅手法娴熟的操作着鼠标和键盘，用手指指着屏幕，嘴里滔滔不绝，越讲越兴奋。丹娜和Q仔也频频点头，丹娜还时不时竖起大拇指来表扬帅哥。

很快5分钟过去了，丹娜没有什么问题了，Q仔突然灵光一闪，示意袁帅将鼠标和键盘给她，只见她接过鼠标胡乱点了一番后，也朝帅哥树起了一个大拇指。然后，三人开心的散去，整个过程比较顺利。丹娜和Q仔各自回到自己工位上，只见袁帅噼里啪啦在终端敲了几行命令，然后起身直奔拳击室，喜欢运动健身的袁帅每天除了平板支撑还要加一套组合拳，运动是让他保持高效工作的秘诀。

【旁白：到此为止，袁帅、丹娜和Q仔三人完成了用户故事的 Desk check活动】

## 剧情复盘

从整个剧情来看，两个社交活动都非常轻量，每个活动都在5分钟左右完成了。BA、DEV、QA三种不同的角色同时参与到其中，这三个角色一个是定义功能的人，一个是要开发功能的人，一个是要测试功能的人。三者能否对业务需求达成共识就至关重要了。

假想丹娜写完了用户故事，袁帅照着用户故事上的描述，按照自己的理解去编写代码，Q仔同样就着故事描述去测试。一旦袁帅和Q仔对文字的理解跟丹娜的期望不一致，返工的几率就会大大提升，而因返工浪费的时间，随便一个缺陷都远远不止额外消耗掉这10分钟，而且错误发现地越晚，返工的成本也就户越大。

Story Kick off 和 Story Desk check这两个社交活动，核心目的是前置反馈，更早的发现因需求理解不一致导致开发了错误功能，造成没必要的成本付出。说白了**要确保一开始就在做正确的事情，不然做得再快再多都是浪费**。

Story Kick off为了尽早发现需求理解不一致导致开发走了弯路。Story Desk check为了避免DEV认为自己做完了，提交到下一个阶段给QA进行测试，一些场景的遗漏或偏差再由QA打回来，修复的成本比DEV更早在自己本地进行修复的成本会大很多。所以，那咱们就快速在DEV桌面上快速检查一下嘛（Desk check的意思）。

## 首尾呼应的要领

### Kick off 业务价值

我在[程序员的3种思维误区](/articles/2025/02/03/3-misunderstandings-of-programmer)一文中提到了不关注业务价值的误区。在Kick off中，我仍然强调关注业务价值。关注业务价值的好处有：解决相同的业务问题，能够挖掘出更加节省成本的方案。举个例子，你老板让你明天开车把他捎上去国家会议中心开会。不关注业务价值的做法是，你明天按照要求开车把他捎上，结果运气不好路上堵车，没有准时赶上会议。关注价值的做法是，搞清楚老板为啥要你开车去接他，发现老板是担心周一不好打车，担心会迟到，而解决这个问题最好的方案可能是步行100米去地铁站坐地铁，稳妥还经济（老板被接送习惯了，容易忽略还有公共交通）。

好的BA通常会在用户故事中写清楚业务价值，用户故事的三要素里面会明确用文字描述。即便这样，DEV在解读业务的时候，理解不一定跟BA表达的一致，毕竟文字会有信息传递的偏差。Story Kick off是消除这种偏差好时机，尽可能保持在为什么做这件事情上形成共识。基于价值共识，用户故事上写得验收标准可能会因为发现了更优方案而做出调整。

比如，BA丹娜在编写「用户短信验证码登录」的用户故事，她前两天她刚好在哪个网站上看到一个有意思的方案，类似"找出图中所有的汽车"（12306里面的"识别出图中哪个是白酒"），验证通过后就能申请发送短信验证码。袁帅认领了这个故事，袁帅没有过多思考为什么做这个事情而直接照做了，他花了两天去Spike也没有搞定这个方案。

第三天一早，他突然想起来在上一个项目中实现了一个"输入图片中字符"的人工验证方案。他再次仔细阅读了用户故事：<u>从而防止恶意防止一些恶意捣乱的人编写程序来频繁请求发短信造成经济损失</u>。白字黑字写得很清楚，那他那个现成简单方案不就在解决这个问题吗。袁帅再次找到丹娜，确认了这个业务价值后便引入了这个方案，半天不到搞定。

袁帅如果在Kick off时多去关注和琢磨业务价值，也许能够更快地完成这个故事。

> 有了这次教训，在前文的剧情中袁帅【面带疑虑的问了几个问题】，其实就是在根据业务价值建议更好的方案。
>

### Kick off 跨功能需求

BA通常能够将功能性需求验收场景罗列出来。一些非功能性需求，比如性能、安全性和易用性等。通常QA在这方面会有更多的关注。在Kick off的时候提前考虑这些跨功能需求会让业务方案和实现方案发生一些调整。

比如，用户查看历史订单，正常发生的用户行为是只能查看自己的订单，而有一些恶意篡改请求的行为，在登陆之后，通过更改请求URL的用户id和订单id去查看其他人的订单。这种数据安全性需要去防范的，这会影响DEV的实现方案，在开发时要做这种用户安全性校验。

再比如，如果等待所有历史订单加载出来会比较慢，影响用户体验，此时查询历史订单的时候默认只展示近三个月的订单，然后提供不同的条件查询其他的订单。这种性能和易用性的需求也会让业务方案发生有益的调整，而不必等到开发出来之后发现不对劲再重做。

> 在前文的剧情中，Q仔【比划着手势语速略快的讲了一通】其实就是在补充一些跨功能的需求场景，袁帅也做了一些记录。
>

### Desk check 边界场景

Desk check其实是DEV开发完故事里的功能场景后一个迷你的showcase，DEV通常会逐个按照故事中描述的AC进行功能演示，通过BA的验收许可。QA因为常年的修炼练就了一番独特的视角，QA很喜欢关注功能的边界场景，这些恰恰是最容易出现缺陷的地方，能不能捕获到这些缺陷不只是关乎软件质量，还关乎到QA的职业声誉了。

QA通常在这时就会进行很多边界场景的测试，这个时候也是DEV心里压力比较大的时候。作为DEV，在开发前，对每一个场景实例化需求的时候不妨锻炼自己尽可能列出边界场景，通过自动化测试进行覆盖。如果边界场景在这块被遗漏了，QA在测试环境中发现了问题，在返工给DEV，修复成本也会被放大不少。

> 在前文的剧情中，【Q仔突然灵光一闪，示意袁帅将鼠标和键盘给她，只见她结果鼠标胡乱点了一番后】，Q仔就是在做这个事情，因为袁帅演示的大多是一些非边界的场景。好在袁帅常年修炼TDD，在做任务分解和实例化需求的时候会重点关注边界场景，最终赢得了Q仔的一个大拇指。
>

### Buffer 加持技巧

除了上述几点核心点的把握，有一些小技巧能够加持这两个社交活动的效果，这些小技巧在整个剧情中也都被运用，我把它单独总结提炼出来：

1. 把握好Kick off和Desk check的时效性，在立马要开发之前进行Kick off，在开发完成之后立即做Desk check，避免多线程并发模式，一次只搞定一个Story。
2. 在Kick off过程中，运用翻转课堂的理念，让DEV来阐述对用户故事的理解，BA和QA做确认和补充，这样能够更好激发DEV去认真阅读和理解需求。即便不这么做，也有必要在最后让DEV做一个确认理解的复述。

## 现实障碍

对于一些非敏捷形态的团队，BA、DEV和QA没有在一起工作，他们各自在自己的独立部门中，这种社交活动发生的成本和阻力会大很多。这也是为什么这种部门孤立的开发模式频繁因为缺陷导致返工浪费。

即便不能做到无障碍沟通，通过一些其他手段来践行 "**前置反馈，及早暴露问题**"这个大原则，正式和非正式的会议和SMS及时沟通，总比黑盒闭门开发、单向邮件或文档传输效果好很多。当这种沟通活动开展越容易，团队则越愿意去做，否则因为很多流程的阻碍，成本变大，在趋利避害的人性驱使下，大家当然也会逐渐就践行"依流程办事，不出差错不背锅就好"的原则。

要应用好故事开发的首尾呼应术，团队需要具备一定的基础，比如敏捷全功能研发团队的形态，如果不具备这个形态，强行要求这么做，可能会适得其反。

比如，最近我在一个客户这里，BA和开发按流程办事，一个BA会同时负责多个团队的需求编写，他们并不喜欢这种灵活的沟通方式，因为在流程中该开的会议都开了，再频繁这样沟通，会占用他们编写需求文档的时间。另外，在需求的管理上，如果进行独立有序的分解，彼此互相混乱依赖，这种沟通通常会比较痛苦，这就跟软件耦合度太高了，动一个点影响了一大片。

所以，作为管理者，优先级更高的事情我觉得应该是努力打造这样的基础环境，逐步引入这样的血液和基因。

## 小结

Story Kick off和Story Desk check虽然两者都有一个Story的前置条件。其背后遵循的原则是 "前置反馈，尽早发现问题" 和 "借助有效社交活动增强不可言说知识的传递"。如果在团队中，还没有采用用户故事来管理需求，可以尽可能引入一些高效迷你的社交活动来践行这两条原则。

传统的大篇幅文档 + 高度集中式的会议流程，不但达不到业务共识的效果，还让撇清责任的事情合理化 -- 「这个我都讲过了哈，你再做错就是你的问题了」。搭进很多人的时间，非但没有有效解决问题，还营造了虚假的合理性。

这种细粒度、轻量级的社交活动本质上是把这些集中的流程会议时间打散分配在每一个小颗粒的需求中，整体上并没有额外增加过多额外的投入，但降低了风险，减少了返工浪费。

## 下集预告

Story Desk check之后，如果发现存在功能为完成或者功能开发有误，袁帅将继续进行修改开发，再次进行Desk check，直到丹娜和Q仔验收通过。随后，袁帅将代码推送到测试环境中，后续Q仔开始对这个用户故事进行全方位的测试，包括功能和非功能。袁帅则稍作休整，打完一套组合拳神后，采奕奕额头略冒汗珠缓缓朝卡墙走去，准备重演下一个Story kick off和Story Desk off循环。

Q仔在测试过程中如果发现了功能缺陷，他会及时告知袁帅停下手头的工作，优先去修复这个故事的缺陷，然后再进行Desk check，最终Q仔验收通过后将其推入Showcase队列， 等待下一个重要的社交活动：Showcase。

**推荐资源**

+ [5分钟让你学会返工率降低一倍的神技——开卡、验卡](https://www.bilibili.com/video/BV1Fp4y1X72m)

**注释**

+ 1. 平板支撑计时器，在微信小程序搜索「Plank」
