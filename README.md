# è¢æ…å»ºçš„ä¸ªäººåšå®¢

åŸºäº Next.js 15 æ„å»ºçš„ç°ä»£åŒ–ä¸ªäººåšå®¢ï¼Œä¸“æ³¨äºæ•æ·å¼€å‘ã€æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰ã€æé™ç¼–ç¨‹ï¼ˆXPï¼‰ç­‰æŠ€æœ¯çŸ¥è¯†åˆ†äº«ã€‚ç›®å‰å·²å‘å¸ƒ **42 ç¯‡**æŠ€æœ¯æ–‡ç« ï¼Œåˆ†å¸ƒåœ¨ 4 ä¸ªæ ¸å¿ƒä¸»é¢˜åˆ†ç±»ã€‚

[![Next.js](https://img.shields.io/badge/Next.js-15.1.6-black?style=flat&logo=next.js)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=flat&logo=typescript)](https://www.typescriptlang.org/)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat)](LICENSE)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **MDX æ”¯æŒ**: ä½¿ç”¨ Markdown + JSX æ’°å†™æ–‡ç« ï¼Œæ”¯æŒåœ¨æ–‡ç« ä¸­åµŒå…¥ React ç»„ä»¶
- ğŸ¨ **ç°ä»£åŒ–è®¾è®¡**: åŸºäº Tailwind CSS å’Œ shadcn/ui è®¾è®¡ç³»ç»Ÿï¼Œæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- ğŸ” **å…¨å±€æœç´¢**: æ”¯æŒå¿«æ·é”®æœç´¢ï¼ˆâŒ˜Kï¼‰ï¼Œå¿«é€Ÿæ‰¾åˆ°ç›®æ ‡æ–‡ç« 
- ğŸ’¬ **è¯„è®ºç³»ç»Ÿ**: é›†æˆ Giscus è¯„è®ºç³»ç»Ÿï¼ŒåŸºäº GitHub Discussionsï¼Œæ”¯æŒ Markdown
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ”§ **ä»£ç é«˜äº®**: ä½¿ç”¨ Prism Plus å®ç°è¯­æ³•é«˜äº®
- ğŸ“Š **SEO ä¼˜åŒ–**: è‡ªåŠ¨ç”Ÿæˆ sitemap å’Œ robots.txtï¼Œæ”¯æŒ Open Graph å…ƒæ•°æ®
- ğŸ“° **RSS è®¢é˜…**: æ”¯æŒ RSS Feedï¼Œæ–¹ä¾¿è¯»è€…è®¢é˜…
- ğŸš€ **é™æ€å¯¼å‡º**: æ„å»ºæ—¶ç”Ÿæˆé™æ€ HTMLï¼Œéƒ¨ç½²åˆ° GitHub Pages
- ğŸ“² **PWA æ”¯æŒ**: æ”¯æŒç¦»çº¿è®¿é—®ï¼Œå¯å®‰è£…ä¸ºæ¡Œé¢/ç§»åŠ¨åº”ç”¨
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜æœºåˆ¶ç­‰ä¼˜åŒ–

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Next.js 15**: React æ¡†æ¶ï¼Œä½¿ç”¨ App Router å’Œé™æ€å¯¼å‡º
- **React 19**: UI åº“
- **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†

### æ ·å¼æ–¹æ¡ˆ
- **Tailwind CSS 3.4**: åŸå­åŒ– CSS æ¡†æ¶
- **PostCSS**: CSS åå¤„ç†å™¨
- **Autoprefixer**: è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€

### å†…å®¹ç®¡ç†
- **MDX**: Markdown æ‰©å±•ï¼Œæ”¯æŒ JSX
- **gray-matter**: è§£æ frontmatter
- **remark-gfm**: GitHub Flavored Markdown æ”¯æŒ
- **rehype-prism-plus**: ä»£ç é«˜äº®
- **rehype-slug**: è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜é”šç‚¹

### è¯„è®ºç³»ç»Ÿ
- **Giscus**: åŸºäº GitHub Discussions çš„è¯„è®ºç³»ç»Ÿ

### å›¾æ ‡åº“
- **lucide-react**: ç°ä»£åŒ–å›¾æ ‡åº“

### å…¶ä»–å·¥å…·
- **clsx**: æ¡ä»¶ç±»åå·¥å…·
- **tailwind-merge**: åˆå¹¶ Tailwind ç±»å
- **github-slugger**: ç”Ÿæˆ URL å‹å¥½çš„ slug

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.x
- npm >= 9.x

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/blog.git
cd blog

# å®‰è£…ä¾èµ–
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env.local` å¹¶å¡«å†™å®é™…é…ç½®ï¼š

```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local`ï¼š

```env
# ç«™ç‚¹åŸºç¡€é…ç½®
NEXT_PUBLIC_SITE_URL=https://yuanshenjian.cn

# Giscus è¯„è®ºç³»ç»Ÿé…ç½®
# åœ¨ https://giscus.app é…ç½®åè·å–ä»¥ä¸‹å€¼
NEXT_PUBLIC_GISCUS_REPO=yourusername/blog-comments
NEXT_PUBLIC_GISCUS_REPO_ID=R_kgDxxxxxxxx
NEXT_PUBLIC_GISCUS_CATEGORY=General
NEXT_PUBLIC_GISCUS_CATEGORY_ID=DIC_kwDxxxxxxxx
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹ç½‘ç«™ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

### æœ¬åœ°é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run start
```

## é¡¹ç›®ç»“æ„

```
personal-blog/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€ï¼ˆå­—ä½“ã€Providersï¼‰
â”‚   â”œâ”€â”€ page.tsx             # é¦–é¡µ
â”‚   â”œâ”€â”€ articles/            # æ–‡ç« åˆ—è¡¨åŠè¯¦æƒ…è·¯ç”±
â”‚   â”œâ”€â”€ about/              # å…³äºé¡µé¢
â”‚   â”œâ”€â”€ resume/             # ç®€å†é¡µé¢
â”‚   â”œâ”€â”€ feed/               # RSS è®¢é˜…
â”‚   â”œâ”€â”€ sitemap.ts          # SEO Sitemap
â”‚   â”œâ”€â”€ robots.ts           # Robots.txt
â”‚   â”œâ”€â”€ error.tsx           # é”™è¯¯é¡µé¢
â”‚   â””â”€â”€ not-found.tsx       # 404 é¡µé¢
â”œâ”€â”€ components/             # React ç»„ä»¶ï¼ˆ22 ä¸ªç»„ä»¶ï¼‰
â”‚   â”œâ”€â”€ header.tsx         # ç«™ç‚¹å¯¼èˆª
â”‚   â”œâ”€â”€ footer.tsx         # é¡µè„š
â”‚   â”œâ”€â”€ articles-content.tsx  # æ–‡ç« åˆ—è¡¨
â”‚   â”œâ”€â”€ giscus-comments.tsx  # Giscus è¯„è®ºç³»ç»Ÿ
â”‚   â”œâ”€â”€ global-search.tsx    # å…¨å±€æœç´¢ï¼ˆæ”¯æŒ âŒ˜K å¿«æ·é”®ï¼‰
â”‚   â”œâ”€â”€ table-of-contents.tsx # æ–‡ç« ç›®å½•
â”‚   â”œâ”€â”€ code-block.tsx     # ä»£ç é«˜äº®æ˜¾ç¤º
â”‚   â””â”€â”€ resume/              # ç®€å†ç›¸å…³ç»„ä»¶
â”œâ”€â”€ lib/                    # å·¥å…·åº“
â”‚   â”œâ”€â”€ blog.ts            # åšå®¢æ•°æ®é€»è¾‘
â”‚   â”œâ”€â”€ mdx.tsx            # MDX æ¸²æŸ“
â”‚   â”œâ”€â”€ config.ts          # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ utils.ts           # å·¥å…·å‡½æ•°
â”œâ”€â”€ content/blog/           # MDX æ–‡ç« å†…å®¹ï¼ˆ42 ç¯‡æ–‡ç« ï¼‰
â”‚   â”œâ”€â”€ agile/             # æ•æ·å¼€å‘ï¼ˆ8 ç¯‡ï¼‰
â”‚   â”œâ”€â”€ career/            # èŒä¸šå‘å±•ï¼ˆ12 ç¯‡ï¼‰
â”‚   â”œâ”€â”€ oo/                # é¢å‘å¯¹è±¡ï¼ˆ4 ç¯‡ï¼‰
â”‚   â””â”€â”€ xp/                # æé™ç¼–ç¨‹ï¼ˆ18 ç¯‡ï¼‰
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ scripts/               # å·¥å…·è„šæœ¬
â”œâ”€â”€ tailwind.config.ts     # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ next.config.ts         # Next.js é…ç½®
â””â”€â”€ package.json           # é¡¹ç›®ä¾èµ–
```

## é…ç½®è¯´æ˜

### ç«™ç‚¹é…ç½®

ä¸»è¦é…ç½®ä½äº `lib/config.ts`ï¼š

```typescript
export const config = {
  posts: {
    perPage: 12,  // æ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°
  },
  readingTime: {
    charactersPerMinute: 600,  // é˜…è¯»é€Ÿåº¦ï¼ˆå­—ç¬¦/åˆ†é’Ÿï¼‰
    wordsPerMinute: 200,       // é˜…è¯»é€Ÿåº¦ï¼ˆè¯/åˆ†é’Ÿï¼‰
  },
} as const;
```

### Tailwind ä¸»é¢˜é…ç½®

ä¸»é¢˜å˜é‡åœ¨ `app/globals.css` ä¸­å®šä¹‰ï¼Œéµå¾ª shadcn/ui è®¾è®¡ç³»ç»Ÿï¼š

```css
:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 10%;
  --primary: 0 0% 10%;
  /* ... */
}
```

### MDX é…ç½®

MDX æ’ä»¶é…ç½®ä½äº `next.config.ts`ï¼š

```typescript
const withMDX = createMDX({
  options: {
    remarkPlugins: [remarkGfm],           // GitHub Flavored Markdown
    rehypePlugins: [rehypeSlug, rehypePrismPlus],  // è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜ ID + ä»£ç é«˜äº®
  },
  extension: /\.mdx?$/,
});
```

## æ–‡ç« ç¼–å†™è§„èŒƒ

### æ–‡ä»¶ç»„ç»‡

æ–‡ç« æŒ‰ç±»åˆ«ç»„ç»‡åœ¨ `content/blog/` ç›®å½•ä¸‹ï¼š

```
content/blog/
â”œâ”€â”€ agile/      # æ•æ·å¼€å‘ï¼ˆ8 ç¯‡ï¼‰
â”œâ”€â”€ career/     # èŒä¸šå‘å±•ï¼ˆ12 ç¯‡ï¼‰
â”œâ”€â”€ oo/         # é¢å‘å¯¹è±¡ï¼ˆ4 ç¯‡ï¼‰
â””â”€â”€ xp/         # æé™ç¼–ç¨‹ï¼ˆ18 ç¯‡ï¼‰
```

æ¯ä¸ªåˆ†ç±»ç›®å½•ä¸‹åŒ…å«å¯¹åº”ä¸»é¢˜çš„ `.mdx` æ–‡ä»¶ã€‚

### Frontmatter æ ¼å¼

æ¯ç¯‡æ–‡ç« å¿…é¡»åŒ…å« frontmatterï¼š

```mdx
---
title: æ–‡ç« æ ‡é¢˜
date: '2024-08-04'
tags:
  - æ ‡ç­¾1
  - æ ‡ç­¾2
published: true
brief: æ–‡ç« æ‘˜è¦ï¼Œç”¨äºåˆ—è¡¨å±•ç¤ºå’Œ SEO
---

æ–‡ç« å†…å®¹...
```

**å­—æ®µè¯´æ˜**ï¼š
- `title`: æ–‡ç« æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
- `date`: å‘å¸ƒæ—¥æœŸï¼Œæ ¼å¼ä¸º `YYYY-MM-DD`ï¼ˆå¿…å¡«ï¼‰
- `tags`: æ–‡ç« æ ‡ç­¾åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
- `published`: æ˜¯å¦å‘å¸ƒï¼Œè®¾ä¸º `false` ä¸ä¼šåœ¨ç½‘ç«™æ˜¾ç¤ºï¼ˆé»˜è®¤ `true`ï¼‰
- `brief`: æ–‡ç« æ‘˜è¦ï¼Œç”¨äºåˆ—è¡¨å±•ç¤ºï¼ˆå¯é€‰ï¼Œé»˜è®¤å–æ–‡ç« å‰ 200 å­—ï¼‰

### æ–‡ä»¶å‘½å

æ–‡ä»¶åä½¿ç”¨ kebab-caseï¼Œä¾‹å¦‚ï¼š
- `tdd-best-practices.mdx`
- `agile-manifesto-guide.mdx`

### MDX è¯­æ³•æ”¯æŒ

- æ ‡å‡† Markdown è¯­æ³•
- GFMï¼ˆGitHub Flavored Markdownï¼‰æ‰©å±•
- ä»£ç å—è¯­æ³•é«˜äº®
- åµŒå…¥ React ç»„ä»¶ï¼ˆéœ€è¦å…ˆåœ¨ `lib/mdx.tsx` ä¸­æ³¨å†Œï¼‰

## éƒ¨ç½²æŒ‡å—

### GitHub Pages éƒ¨ç½²

æœ¬é¡¹ç›®å·²é…ç½® GitHub Actions è‡ªåŠ¨éƒ¨ç½²ï¼Œæ¨é€åˆ° `main` åˆ†æ”¯åè‡ªåŠ¨è§¦å‘ã€‚

éƒ¨ç½²é…ç½®ä½äº `.github/workflows/deploy.yml`ã€‚

### è‡ªå®šä¹‰åŸŸå

1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `CNAME` æ–‡ä»¶ï¼Œå†™å…¥åŸŸåï¼š
   ```
   yuanshenjian.cn
   ```

2. åœ¨ DNS æä¾›å•†å¤„é…ç½® A è®°å½•æˆ– CNAME è®°å½•æŒ‡å‘ GitHub Pagesã€‚

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ Secretsï¼š

- `NEXT_PUBLIC_SITE_URL`: ç«™ç‚¹ URL
- `NEXT_PUBLIC_GISCUS_REPO`: GitHub ä»“åº“ï¼ˆç”¨äºè¯„è®ºï¼‰
- `NEXT_PUBLIC_GISCUS_REPO_ID`: ä»“åº“ ID
- `NEXT_PUBLIC_GISCUS_CATEGORY`: è®¨è®ºåˆ†ç±»
- `NEXT_PUBLIC_GISCUS_CATEGORY_ID`: åˆ†ç±» ID

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

é¡¹ç›®ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥ï¼š

```bash
npm run lint
```

### TypeScript

é¡¹ç›®ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œç±»å‹å®šä¹‰ä½äº `types/` ç›®å½•ã€‚

### ç»„ä»¶å¼€å‘

- æœåŠ¡ç«¯ç»„ä»¶ï¼šé»˜è®¤ asyncï¼Œä¸ä½¿ç”¨ 'use client'
- å®¢æˆ·ç«¯ç»„ä»¶ï¼šå¿…é¡»ä½¿ç”¨ 'use client' æŒ‡ä»¤
- ç»„ä»¶ props ä½¿ç”¨ interface å®šä¹‰ç±»å‹

### æäº¤è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯ï¼š

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„ä»£ç 
test: æ·»åŠ æµ‹è¯•
chore: æ„å»º/å·¥å…·é…ç½®æ›´æ–°
```

## å¸¸è§é—®é¢˜

### å¦‚ä½•æ·»åŠ æ–°æ–‡ç« ï¼Ÿ

åœ¨ `content/blog/` å¯¹åº”åˆ†ç±»ä¸‹åˆ›å»ºæ–°çš„ `.mdx` æ–‡ä»¶ï¼ŒæŒ‰ç…§ frontmatter æ ¼å¼ç¼–å†™ã€‚

### å¦‚ä½•ä¿®æ”¹ä¸»é¢˜ï¼Ÿ

åœ¨ `app/globals.css` ä¸­ä¿®æ”¹ CSS å˜é‡ï¼Œæˆ–ä½¿ç”¨ Tailwind çš„ dark ç±»ã€‚

### å¦‚ä½•æ·»åŠ æ–°çš„ MDX ç»„ä»¶ï¼Ÿ

åœ¨ `lib/mdx.tsx` ä¸­çš„ `mdxComponents` å¯¹è±¡ä¸­æ³¨å†Œï¼š

```typescript
const mdxComponents: MDXComponents = {
  // ... ç°æœ‰ç»„ä»¶
  CustomComponent: (props) => <div {...props} />,
};
```

### å¦‚ä½•è°ƒæ•´æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°ï¼Ÿ

ä¿®æ”¹ `lib/config.ts` ä¸­çš„ `posts.perPage` é…ç½®ã€‚

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»æ–¹å¼

- åšå®¢: https://yuanshenjian.cn
- GitHub: https://github.com/your-username
- Email: yuanshenjian@foxmail.com

## è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [Next.js](https://nextjs.org/)
- [React](https://react.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Giscus](https://giscus.app/)
