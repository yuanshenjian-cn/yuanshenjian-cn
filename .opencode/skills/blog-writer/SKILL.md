---
name: blog-writer
description: 智能博客写作助手，深度集成到当前博客工程。支持交互式选择主题、技术分类、子目录，自动生成符合博客规范的MDX文件，自动验证构建。
argument-hint: "[文章主题] --type=[类型] --style=[风格] --words=[字数]"
allowed-tools: Read, Glob, Grep, question, Write, Bash
---

## 博客工程集成

- **存储位置**：`content/blog/{category}/{subdirectory}/`
- **文件格式**：`.mdx`，自动生成 Frontmatter
- **自动验证**：保存后运行 `npm run build`

## 执行流程

### 第一步：交互式需求确认

使用 `question` 工具分步询问：

#### 1.1 选择主题

| 主题 | 保存目录 | 特殊逻辑 |
|------|----------|----------|
| 运动健康 | `fitness/` | 跳到1.3 |
| 投资理财 | `investment/` | 跳到1.3 |
| 生活杂谈 | `life/` | 跳到1.3 |
| 软件开发 | 见1.2 | 选择技术分类 |
| 脱口秀 | `talkshow/` | 固定：类型=观点评论，风格=浮夸搞笑，跳到1.5 |

#### 1.2 软件开发技术分类（仅软件开发）

- **极限编程(xp)** → `swd/xp/`，子目录：tdd/, testing/, simple-design/, refactoring/
- **敏捷(agile)** → `swd/agile/`，子目录：coaching/
- **面向对象(oo)** → `swd/oo/`
- **其他/新建** → `swd/{新目录名}/`

选择现有分类后，检测并询问子目录；选择新建则输入目录名。

#### 1.3 选择文章类型（脱口秀跳过）

技术分享、产品分析、观点评论、学习笔记、工具推荐、经验分享、成长故事

#### 1.4 选择写作风格（脱口秀跳过）

故事叙述、朴实稳重、轻松幽默、简洁明了、专业严谨、浮夸搞笑

#### 1.5 选择字数

500/1000/2000/3000/5000/10000 字，默认2000

#### 1.6 提供素材（可选）

- **方式1**：直接粘贴
- **方式2**：读取当前 skill 目录下 `user-input/{文件名}.md`

**素材文件格式**：

```markdown
# 文章主题

## 我提供的素材
（原始内容）

## 需要你额外帮我做的事情
（AI任务清单）
```

### 第二步：样例文章学习

在当前 skill 目录的 `samples/` 下查找 `主题 |*.md` 文件：
- 找到 → 读取学习
- 未找到 → 跳过

脱口秀不查找样例，直接读取 `styles/浮夸搞笑.md`。

### 第三步：读取模板和风格

1. 读取模板：`categories/[类型].md`
2. 读取风格：`styles/[风格].md`

### 第四步：确认日期

> 使用今天日期(YYYY-MM-DD)吗？ [Y/n]

### 第五步：撰写大纲

提供3-5个中文标题选项，用户确认后生成英文文件名（kebab-case）。

### 第六步：撰写正文

遵循：风格一致性、模板结构、字数控制、素材融合。

### 第七步：自定义 Tags

> 请添加自定义标签（逗号分隔，回车跳过）：

合并：主题标签 + 用户标签

**注意**：文章类型（技术分享、产品分析等）**不作为 tag**

### 第八步：发布

1. 创建目录（如不存在）
2. 生成 `content/blog/{category}/{subdirectory}/{filename}.mdx`
3. 执行 `npm run build` 验证

**成功**：
```
✅ 文章已保存：content/blog/...
✅ 构建验证通过！
```

**失败**：显示错误日志，文件已保留。

## 主题-目录映射

| 主题 | 目录 |
|------|------|
| 运动健康 | `fitness/` |
| 投资理财 | `investment/` |
| 生活杂谈 | `life/` |
| 软件开发(xp) | `swd/xp/` |
| 软件开发(agile) | `swd/agile/` |
| 软件开发(oo) | `swd/oo/` |
| 软件开发(其他) | `swd/{自定义}/` |
| 脱口秀 | `talkshow/` |

## 输出格式

```markdown
---
title: 文章标题
date: 'YYYY-MM-DD'
tags:
  - 主题标签
  - 用户自定义标签
published: true
brief: 根据全文提炼的200字摘要
---

> 一句话摘要/引语

## 开头
...

## 正文
...

## 总结
...
```

**注意**：
- 正文**不要出现一级标题 `#`**，标题由 Frontmatter 的 `title` 决定
- `brief` 是根据全文内容提炼总结，200字左右

## 质量标准

- 原创性、准确性、实用性
- 结构完整，符合工程规范

## 开始写作

按照上述流程协助用户撰写博客文章。
